<% http_header("style/form.css", "/funcs.js", "/bas_ether_dsl.js") %>
<% body_header("_BAS_ether", "BAS_update.htm", "ether_dsl") %>
<div class="page_title">$int_setup</div>
<script>
<% set_lin_flag() %>
<% save_timestamp("ether_dsl", "edit_devname", "Change_pvc_num","csonly","lin_pppoe") %>
var wan1_flag = "<% cfg_get("wan1_flag") %>";
var wan2_flag = "<% cfg_get("wan2_flag") %>";
var ts = "<% cfg_get("ether_dsl") %>";
var ed_action= "/apply.cgi?/BAS_ether_dsl.htm timestamp="+ts;
var run_test="<% cfg_get("run_test") %>";
var in_hijack=( "<% cfg_get("dns_hijack") %>" == "1" && "<% cfg_get("hijack_process") %>" != "3" );
<% cfg_set("run_test", "no") %>
<% commit() %>
<% ether_get_value() %>
var dsl_wan_preference="<% cfg_get("dsl_wan_preference") %>";
var lan_ip="<% cfg_get("lan_ipaddr") %>";

var lan_subnet="<% cfg_get("lan_netmask") %>";
var old_wan_ip="<% bas_ether_ip() %>";
var ether_get_subnet="<% bas_ether_netmask() %>";
var ether_get_gateway="<% bas_ether_gateway() %>";
var vpn_enable = "<% cfg_get("vpn_enable") %>";
var gui_region="<% cfg_get("GUI_Region") %>";
var vpn_flag="<% cfg_get("vpn_detect_ip_change_flag")%>";
var netgear_region=(top.netgear_region == "") ? "WW" : top.netgear_region;
var dns_third_flag=top.dns_third_flag;
var wanproto_type="dhcp";
var wan_mtu_now='<% wan_mtu() %>';
if (ether_get_this_mac == "")
	ether_get_this_mac="<% wan_mac() %>";
var jp_multiPPPoE="<% cfg_get("jp_multiPPPoE") %>";
var have_l2tp = (top.l2tp_flag == 1) ? 1 : 0;
var wan_pvc_num = "<% cfg_get("wan_pvc_num") %>";
var true_country = "<% cfg_get("dsl_wan_country") %>";
var true_isp = "<% cfg_get("dsl_wan_isp") %>";
var fermode = "<% cfg_get("dsl_wan_type") %>";
var bridge_mode_select = "<% cfg_get("dsl_wan2_bridge_mode") %>";
var lan_selecte="<% cfg_get("iptv_mask") %>";
var lan1_selecte=lan_selecte & 1;
var lan_ports_num = (typeof(top.lan_ports_num) == "undefined") ? 4 : top.lan_ports_num;
var ISP_ALL = 
    new Array (
	new Array ("Adam","Adam","Clubtelco","Clubtelco","Dodo","Dodo","Exetel","Exetel","iiNet","iiNet","Internode","Internode","Optus","Optus","People Telcom","People Telcom","Primus","Primus","Soul","Soul","Telstra","Telstra","Telstra Bigpond","Telstra Bigpond","TPG","TPG","TransACT","TransACT","Westnet","Westnet","Internode","Internode","Engin","Engin","Other","$dsl_other"),
	new Array ("A1 Telekom","A1 Telekom","UPC Austria","UPC Austria","UTA2","UTA2","Comteam.at","Comteam.at","Other","$dsl_other"),
	new Array ("Proximus(Belgacom)","Proximus(Belgacom)","Other","$dsl_other"),
	new Array ("Gvt-Global Village Telecom","Gvt-Global Village Telecom","Oi","Oi","Telemar Oi Velox","Telemar Oi Velox","Other","$dsl_other"),
	new Array ("Bell Canada(Western)","Bell Canada(Western)","SaskTel","SaskTel","TekSavvy","TekSavvy","Other","$dsl_other"),
	new Array ("China Telecom","China Telecom","Other","$dsl_other"),
	new Array ("O2","O2","Tiscali","Tiscali","T-Mobile","T-Mobile","Other","$dsl_other"),
	new Array ("Telenor","Telenor","TDC","TDC","Other","$dsl_other"),
	new Array ("Teliasonera","Teliasonera","Elisa Oyj","Elisa Oyj","DNA Welho","DNA Welho","Other","$dsl_other"),
	new Array ("Free","Free","OVH","OVH","Orange","Orange","SFR","SFR","Nordnet","Nordnet","Other","$dsl_other"),
	new Array ("1&1","1&1","Deutsche Telekom","Deutsche Telekom","m-net","m-net","Netcologne","Netcologne","Telefonica O2","Telefonica O2","Vodafone","Vodafone","Other","$dsl_other"),
	new Array ("PCCW","PCCW","Other","$dsl_other"),
	new Array ("Actel","Actel","GTS Datanet","GTS Datanet","Invitel","Invitel","T-Home","T-Home","Other","$dsl_other"),
	new Array ("AIRTEL","AIRTEL","BSNL","BSNL","Inedit","Inedit","MTNL","MTNL","TataIndicom","TataIndicom","Other","$dsl_other"),
	new Array ("Speedy","Speedy","Telkom Speedy","Telkom Speedy","Other","$dsl_other"),
	new Array ("Eircom","Eircom","Other","$dsl_other"),
	new Array ("Acantho","Acantho","Telecom Italia","Telecom Italia","Aruba","Aruba","Fastweb","Fastweb","KPN Qwest Italia","KPN Qwest Italia","Infostrada","Infostrada","TELE2","TELE2","Tiscali","Tiscali","Twt","Twt","Wind(Infostrada)","Wind(Infostrada)","Intred","Intred","MC-link","MC-link","Other","$dsl_other"),
	new Array ("Streamyx","Streamyx","Other","$dsl_other"),
	new Array ("Online-nl","Online-nl","Vodafonevast","Vodafonevast","Telfort","Telfort","Other","$dsl_other"),
	new Array ("IHug","IHug","Kiwi Online(KOL)","Kiwi Online(KOL)","Orcon","Orcon","Paradise","Paradise","Slingshot","Slingshot","Telstra Clear","Telstra Clear","Xnet(World Exchange)","Xnet(World Exchange)","Spark","Spark","Bigpipe","Bigpipe","Snap","Snap","Vodafone","Vodafone","Trust power","Trust power","Other","$dsl_other"),
	new Array ("PLDT","PLDT","TelPlus","TelPlus","Other","$dsl_other"),
	new Array ("Multimo","Multimo","Netia","Netia","Orange","Orange","Tele2","Tele2","Other","$dsl_other"),
	new Array ("PT","PT","Vodafone","Vodafone","Zon","Zon","Other","$dsl_other"),
	new Array ("Avangard-DSL","Avangard-DSL","Beltelecom","Beltelecom","Combellga","Combellga","Domolink CentrTelekom","Domolink CentrTelekom","Jdsl Volgatelekom","Jdsl Volgatelekom","MGTS","MGTS","MTS Stream","MTS Stream","Rostelecom","Rostelecom","Other","$dsl_other"),
	new Array ("STC","STC"),
	new Array ("PacificNet","PacificNet","Singnet","Singnet","SingTel","SingTel","Other","$dsl_other"),
	new Array ("Jazztel","Jazztel","Orange","Orange","Pepephone","Pepephone","Telefonica Movistar(dynamic IP)","Telefonica Movistar(dynamic IP)","Telefonica Movistar(fixed IP)","Telefonica Movistar(fixed IP)","Movistar","Movistar","Vodafone","Vodafone","Other","$dsl_other"),
	new Array ("Bahnhof AB","Bahnhof AB","Bredbandsbolaget","Bredbandsbolaget","Ljusnet","Ljusnet","Telia","Telia","Other","$dsl_other"),
	new Array ("Monzoon Networks","Monzoon Networks","Sunrise","Sunrise","Swisscom","Swisscom","Telfort","Telfort","Swisscom All IP(with phone)","Swisscom All IP(with phone)","Other","$dsl_other"),
	new Array ("3BB","3BB","CAT-Telecom","CAT-Telecom","CS-Loxinfo","CS-Loxinfo","Samart","Samart","TOT","TOT","TRUE Internet","TRUE Internet","TT&T","TT&T","Other","$dsl_other"),
	new Array ("Other","$dsl_other"),
	new Array ("BT","BT","Media","Media","EE(Orange)","EE(Orange)","PlusNet","PlusNet","Sky","Sky","TalkTalk","TalkTalk","Virgin","Virgin","Other","$dsl_other"),
	new Array ("AT&T","AT&T","Bigriver.net DSL","Bigriver.net DSL","CenturyLink","CenturyLink","Earthlink","Earthlink","Frontier Communications","Frontier Communications","Qwest","Qwest","Rivercity Internet Group","Rivercity Internet Group","Verizon","Verizon","Windstream","Windstream","BEVCOMM","BEVCOMM","cox communications","cox communications","Other","$dsl_other"),
	new Array ("FPT","FPT","NATNAM","NATNAM","SPT","SPT","VNN(in Hanoi)","VNN(in Hanoi)","VNN(in HAM)","VNN(in HAM)","Viettel","Viettel","Other","$dsl_other"),
	new Array ("Other","$dsl_other")
        );
if(csflag == "1"){ //linshi
	var curr_country = "<% cfg_get("lin_country") %>";
	var curr_isp = "<% cfg_get("lin_isp") %>";
	var dsl_wan_transfermode = "<% cfg_get("lin_transfermode") %>";
	var dsl_wan_dslmode = "<% cfg_get("lin_dslmode") %>";
}else{
	var curr_country = "<% cfg_get("dsl_wan_country") %>";
	var curr_isp = "<% cfg_get("dsl_wan_isp") %>";
	var dsl_wan_transfermode = "<% cfg_get("dsl_wan_type") %>";
	var dsl_wan_dslmode = "<% cfg_get("dsl_wan_dslmode") %>";
}
function set_ip_dns_mac()
{
	var form=document.forms[0];
	if(csflag == "1")  //linshi 
	{
		if( dsl_wan_preference == "2"){ //eth
			if(true_country == curr_country && true_isp == curr_isp ){
				if (old_wan_assign == '0')
				form.WANAssign[0].checked = true;
				else if (old_wan_assign == '1')
				form.WANAssign[1].checked = true;
				else
				form.WANAssign[0].checked = true;
				if (ether_get_dns_assign == "0"){
					form.DNSAssign[0].checked = true;
				}
				else{
					form.DNSAssign[1].checked = true;
				}
				if (ether_get_mac_assign == '0')
				{
					form.MACAssign[0].checked = true;
					setMAC(form,wan_factory_mac);
				}
				else if (ether_get_mac_assign == '1')
				{
					form.MACAssign[1].checked = true;
					setMAC(form,wan_remote_mac);
				}
				else
				{
					form.MACAssign[2].checked = true;
					setMAC(form,ether_get_this_mac);
				}
				}else{
				form.WANAssign[0].checked = true;
				form.DNSAssign[0].checked = true;
				form.MACAssign[0].checked = true;
				setMAC(form,wan_factory_mac);
			}
		} 
		else if(form.transfermode.value == "adsl" && dsl_wan_preference == "1"){ //adsl
			if((form.country.value == "France" && form.isp.value == "SFR") || (form.country.value == "Australia" && form.isp.value == "TPG") || (form.country.value == "UK" && form.isp.value == "BT") || (form.country.value == "Germany" && form.isp.value == "Deutsche Telekom"))
			{
				if(true_country == curr_country && true_isp == curr_isp ){
					if((wan_pvc_num == "0" && wan1_flag == "1") || (wan_pvc_num == "1" && wan2_flag == "1")) // say wan1 haeve configed should use config value or wan2 configed should config value
					{
						if(wan_pvc_num == "0")
						{
							if (old_wan_assign == '0')
							form.WANAssign[0].checked = true;
							else if (old_wan_assign == '1')
							form.WANAssign[1].checked = true;
							else if (old_wan_assign == '2')
							form.WANAssign[2].checked = true;  //asl wan2 no ipoa 
						}else if(wan_pvc_num == "1")
						{
							if (old_wan_assign == '0')
							form.WANAssign[0].checked = true;
							else if (old_wan_assign == '1')
							form.WANAssign[1].checked = true;
							else if (old_wan_assign == '2')
							form.WANAssign[0].checked = true;
						}
						if (ether_get_dns_assign == "0"){
							form.DNSAssign[0].checked = true;
						}
						else{
							form.DNSAssign[1].checked = true;
						}

					}
					else {
						form.WANAssign[0].checked = true;
						form.DNSAssign[0].checked = true;

					}
					if(wan1_flag == "1" || wan2_flag == "1") //wan1 or wan2 configed mac used configed 
					{
						if (ether_get_mac_assign == '0')
						{
							form.MACAssign[0].checked = true;
							setMAC(form,wan_factory_mac);
						}
						else if (ether_get_mac_assign == '1')
						{
							form.MACAssign[1].checked = true;
							setMAC(form,wan_remote_mac);
						}
						else
						{
							form.MACAssign[2].checked = true;
							setMAC(form,ether_get_this_mac);
						}
					}else
					{
						form.MACAssign[0].checked = true;
						setMAC(form,wan_factory_mac);
					}
					}else {
					form.WANAssign[0].checked = true;
					form.DNSAssign[0].checked = true;
					form.MACAssign[0].checked = true;
					setMAC(form,wan_factory_mac);
				}
				}else{
				if(true_country == curr_country && true_isp == curr_isp ){
					if (old_wan_assign == '0')
					form.WANAssign[0].checked = true;
					else if (old_wan_assign == '1')
					form.WANAssign[1].checked = true;
					else
					form.WANAssign[2].checked = true;
					if (ether_get_dns_assign == "0"){
						form.DNSAssign[0].checked = true;
					}
					else{
						form.DNSAssign[1].checked = true;
					}
					if (ether_get_mac_assign == '0')
					{
						form.MACAssign[0].checked = true;
						setMAC(form,wan_factory_mac);
					}
					else if (ether_get_mac_assign == '1')
					{
						form.MACAssign[1].checked = true;
						setMAC(form,wan_remote_mac);
					}
					else
					{
						form.MACAssign[2].checked = true;
						setMAC(form,ether_get_this_mac);
					}
					}else{
					form.WANAssign[0].checked = true;
					form.DNSAssign[0].checked = true;
					form.MACAssign[0].checked = true;
					setMAC(form,wan_factory_mac);
				}
			}
			}else if(form.transfermode.value == "vdsl" && dsl_wan_preference == "1"){ //vdsl
			if(c=vdsl_list[form.country.value]){
				if(s=c[form.isp.value]){
					if(num = s["num"]){
						if(num == "2"){  //have vlanid1 and vlanid2
							if(true_country == curr_country && true_isp == curr_isp ){
								if((wan_pvc_num == "0" && wan1_flag == "1") || (wan_pvc_num == "1" && wan2_flag == "1")){ // say wan1 haeve configed should use config value  //say wan2 haeve configed should use 
									if (old_wan_assign == '0')
									form.WANAssign[0].checked = true;
									else if (old_wan_assign == '1')
									form.WANAssign[1].checked = true;
									else if (old_wan_assign == '2')
									form.WANAssign[0].checked = true;
									if (ether_get_dns_assign == "0"){
										form.DNSAssign[0].checked = true;
									}
									else{
										form.DNSAssign[1].checked = true;
									}
									}else{
									form.WANAssign[0].checked = true;
									form.DNSAssign[0].checked = true;
								}
								if(wan1_flag == "1" || wan2_flag == "1") //wan1 or wan2 configed mac used configed 
								{
									if (ether_get_mac_assign == '0')
									{
										form.MACAssign[0].checked = true;
										setMAC(form,wan_factory_mac);
									}
									else if (ether_get_mac_assign == '1')
									{
										form.MACAssign[1].checked = true;
										setMAC(form,wan_remote_mac);
									}
									else
									{
										form.MACAssign[2].checked = true;
										setMAC(form,ether_get_this_mac);
									}
								}else
								{
									form.MACAssign[0].checked = true;
									setMAC(form,wan_factory_mac);
								}
								}else{
								form.WANAssign[0].checked = true;
								form.DNSAssign[0].checked = true;
								form.MACAssign[0].checked = true;
								setMAC(form,wan_factory_mac);
							}
						}
						else if(num == "1"){  //only one valnid1
							form.adslChoice.value = "0";
							form.adslChoice.disabled = true;
							if(true_country == curr_country && true_isp == curr_isp )
							{
								if (old_wan_assign == '0')
								form.WANAssign[0].checked = true;
								else if (old_wan_assign == '1')
								form.WANAssign[1].checked = true;
								else if (old_wan_assign == '2')
								form.WANAssign[0].checked = true;
								if (ether_get_dns_assign == "0"){
									form.DNSAssign[0].checked = true;
								}
								else{
									form.DNSAssign[1].checked = true;
								}
								if (ether_get_mac_assign == '0')
								{
									form.MACAssign[0].checked = true;
									setMAC(form,wan_factory_mac);
								}
								else if (ether_get_mac_assign == '1')
								{
									form.MACAssign[1].checked = true;
									setMAC(form,wan_remote_mac);
								}
								else
								{
									form.MACAssign[2].checked = true;
									setMAC(form,ether_get_this_mac);
								}
							}
							else{	
								form.MACAssign[0].checked = true;
								setMAC(form,wan_factory_mac);
								form.WANAssign[0].checked = true;
								form.DNSAssign[0].checked = true;
							}
						}
						//cf.dsl_vpi.value = vpi;
					}
				}else  //isp unexit
				{
					form.adslChoice.value = "0";
					form.adslChoice.disabled = true;
					if(true_country == curr_country && true_isp == curr_isp )
					{
						if (old_wan_assign == '0')
						form.WANAssign[0].checked = true;
						else if (old_wan_assign == '1')
						form.WANAssign[1].checked = true;
						else if (old_wan_assign == '2')
						form.WANAssign[0].checked = true;
						if (ether_get_dns_assign == "0"){
							form.DNSAssign[0].checked = true;
						}
						else{
							form.DNSAssign[1].checked = true;
						}
						if (ether_get_mac_assign == '0')
						{
							form.MACAssign[0].checked = true;
							setMAC(form,wan_factory_mac);
						}
						else if (ether_get_mac_assign == '1')
						{
							form.MACAssign[1].checked = true;
							setMAC(form,wan_remote_mac);
						}
						else
						{
							form.MACAssign[2].checked = true;
							setMAC(form,ether_get_this_mac);
						}
					}
					else{	
						form.WANAssign[0].checked = true;
						form.DNSAssign[0].checked = true;
						form.MACAssign[0].checked = true;
						setMAC(form,wan_factory_mac);
					}
				}
				}else{  // country no exit
				form.adslChoice.value = "0";
				form.adslChoice.disabled = true;
				if(true_country == curr_country && true_isp == curr_isp )
				{
					if (old_wan_assign == '0')
					form.WANAssign[0].checked = true;
					else if (old_wan_assign == '1')
					form.WANAssign[1].checked = true;
					else if (old_wan_assign == '2')
					form.WANAssign[2].checked = true;
					if (ether_get_dns_assign == "0"){
						form.DNSAssign[0].checked = true;
					}
					else{
						form.DNSAssign[1].checked = true;
					}
					if (ether_get_mac_assign == '0')
					{
						form.MACAssign[0].checked = true;
						setMAC(form,wan_factory_mac);
					}
					else if (ether_get_mac_assign == '1')
					{
						form.MACAssign[1].checked = true;
						setMAC(form,wan_remote_mac);
					}
					else
					{
						form.MACAssign[2].checked = true;
						setMAC(form,ether_get_this_mac);
					}
				}
				else{	
					form.WANAssign[0].checked = true;
					form.DNSAssign[0].checked = true;
					form.MACAssign[0].checked = true;
					setMAC(form,wan_factory_mac);
				}
			}

		}
	}
	else if(csflag == "0")  // dai biao apply return 
	{
		if(dsl_wan_preference == "1"){
			if(dsl_wan_transfermode == "vdsl"){
				if((wan_pvc_num == "0" && wan1_flag == "1") || (wan_pvc_num == "1" && wan2_flag == "1")){
					if (old_wan_assign == '0')
					form.WANAssign[0].checked = true;
					else if (old_wan_assign == '1')
					form.WANAssign[1].checked = true;
					else if (old_wan_assign == '2')
					form.WANAssign[0].checked = true;
					if (ether_get_dns_assign == "0"){
						form.DNSAssign[0].checked = true;
					}
					else{
						form.DNSAssign[1].checked = true;
					}
				}else
				{
					form.WANAssign[0].checked = true;
					form.DNSAssign[0].checked = true;
				}

				if(wan1_flag == "1" || wan2_flag == "1") //wan1 or wan2 configed mac used configed 
				{
					if (ether_get_mac_assign == '0')
					{
						form.MACAssign[0].checked = true;
						setMAC(form,wan_factory_mac);
					}
					else if (ether_get_mac_assign == '1')
					{
						form.MACAssign[1].checked = true;
						setMAC(form,wan_remote_mac);
					}
					else
					{
						form.MACAssign[2].checked = true;
						setMAC(form,ether_get_this_mac);
					}
				}else
				{
					form.MACAssign[0].checked = true;
					setMAC(form,wan_factory_mac);
				}

				}else if(dsl_wan_transfermode == "adsl"){//adsl
				if((form.country.value == "France" && form.isp.value == "SFR") || (form.country.value == "Australia" && form.isp.value == "TPG") || (form.country.value == "UK" && form.isp.value == "BT") || (form.country.value == "Germany" && form.isp.value == "Deutsche Telekom"))
				{
					if((wan_pvc_num == "0" && wan1_flag == "1") || (wan_pvc_num == "1" && wan2_flag == "1")){
						if(wan_pvc_num == "0")
						{
							if (old_wan_assign == '0')
							form.WANAssign[0].checked = true;
							else if (old_wan_assign == '1')
							form.WANAssign[1].checked = true;
							else if (old_wan_assign == '2')
							form.WANAssign[2].checked = true;
						}else if(wan_pvc_num == "1")
						{
							if (old_wan_assign == '0')
							form.WANAssign[0].checked = true;
							else if (old_wan_assign == '1')
							form.WANAssign[1].checked = true;
							else if (old_wan_assign == '2')
							form.WANAssign[0].checked = true;// adsl wan2 no ipoa 
						}
						if (ether_get_dns_assign == "0"){
							form.DNSAssign[0].checked = true;
						}
						else{
							form.DNSAssign[1].checked = true;
						}
					}else
					{
						form.WANAssign[0].checked = true;
						form.DNSAssign[0].checked = true;
					}
					if(wan1_flag == "1" || wan2_flag == "1") //wan1 or wan2 configed mac used configed 
					{
						if (ether_get_mac_assign == '0')
						{
							form.MACAssign[0].checked = true;
							setMAC(form,wan_factory_mac);
						}
						else if (ether_get_mac_assign == '1')
						{
							form.MACAssign[1].checked = true;
							setMAC(form,wan_remote_mac);
						}
						else
						{
							form.MACAssign[2].checked = true;
							setMAC(form,ether_get_this_mac);
						}
					}else
					{
						form.MACAssign[0].checked = true;
						setMAC(form,wan_factory_mac);
					}
				}
				else{
					if (old_wan_assign == '0')
					form.WANAssign[0].checked = true;
					else if (old_wan_assign == '1')
					form.WANAssign[1].checked = true;
					else if (old_wan_assign == '2')
					form.WANAssign[2].checked = true;
					if (ether_get_dns_assign == "0"){
						form.DNSAssign[0].checked = true;
					}
					else{
						form.DNSAssign[1].checked = true;
					}
					if (ether_get_mac_assign == '0')
					{
						form.MACAssign[0].checked = true;
						setMAC(form,wan_factory_mac);
					}
					else if (ether_get_mac_assign == '1')
					{
						form.MACAssign[1].checked = true;
						setMAC(form,wan_remote_mac);
					}
					else
					{
						form.MACAssign[2].checked = true;
						setMAC(form,ether_get_this_mac);
					}
				}
			}
		}else
		{
			if (old_wan_assign == '0')
			form.WANAssign[0].checked = true;
			else if (old_wan_assign == '1')
			form.WANAssign[1].checked = true;
			else
			form.WANAssign[0].checked = true;
			if (ether_get_dns_assign == "0"){
				form.DNSAssign[0].checked = true;
			}
			else{
				form.DNSAssign[1].checked = true;
			}
			if (ether_get_mac_assign == '0')
			{
				form.MACAssign[0].checked = true;
				setMAC(form,wan_factory_mac);
			}
			else if (ether_get_mac_assign == '1')
			{
				form.MACAssign[1].checked = true;
				setMAC(form,wan_remote_mac);
			}
			else
			{
				form.MACAssign[2].checked = true;
				setMAC(form,ether_get_this_mac);
			}
		}
	}
}
function setisp()
{
    var cf = document.forms[0];
    var isp_list = cf.isp;
    var index = cf.country.selectedIndex;
    var len=0, i=0;

    isp_list.options.length = 100;
    if (ISP_ALL[index].length > 0)
    {
        for (i=0; i<ISP_ALL[index].length; i+=2)
        {
            isp_list.options[len].text = ISP_ALL[index][i+1];
            isp_list.options[len].value = ISP_ALL[index][i];
            len++;
        }
        if (curr_country != cf.country.value)
            curr_isp = ISP_ALL[index][0];
    }

    isp_list.options.length = len;

    for (i=0; i<isp_list.options.length; i++)
    {
        if (isp_list.options[i].value == curr_isp)
        {
            isp_list[i].selected = true;
            break;
        }
    }
}

function ChangeModeChoice()
{
	var cf = document.forms[0];
	var mode = cf.transfermode.selectedIndex;

    if (mode > 0)
    {	        
        cf.dsl_multiplex.disabled = true;
        cf.dsl_vpi.disabled = true;
        cf.dsl_vci.disabled = true;
        cf.vlanidActive.disabled = false;
        cf.vlan_id.disabled = false;
        
        cf.dslmode.options.length = 1;
    	cf.dslmode.options[0].text = "$dsl_vdsl2";
    	cf.dslmode.options[0].value = "0";
		cf.dslmode.options[0].selected = true;
    }
	else{ //ATM
		
        cf.dsl_multiplex.disabled = false;
        cf.dsl_vpi.disabled = false;
        cf.dsl_vci.disabled = false;
        cf.vlanidActive.disabled = false;
        cf.vlan_id.disabled = false;
        
        cf.dslmode.options.length = 4;
    	cf.dslmode.options[0].text = "$dsl_auto";
    	cf.dslmode.options[1].text = "$dsl_adsl1";
    	cf.dslmode.options[2].text = "$dsl_adsl2";
    	cf.dslmode.options[3].text = "$dsl_adsl22";
    	cf.dslmode.options[0].value = "0";
    	cf.dslmode.options[1].value = "1";
    	cf.dslmode.options[2].value = "2";
    	cf.dslmode.options[3].value = "3";
		cf.dslmode.options[0].selected = true;
	}
}



function change_web_format()
{
        if( dns_third_flag == 1 )
                document.getElementById("third_dns").style.display="";
        else
                document.getElementById("third_dns").style.display="none";
	
}

function loadvalue()
{
	change_web_format();
	var form=document.forms[0];
	if(vpn_flag == "1" && parent.ether_post_flag == 1){
		parent.ether_post_flag = 0;
		alert("$warn_change_static_ip");
	}
	form.country.value = curr_country;
	 setisp();
	if(dsl_wan_preference == "1")
	{
		if(dsl_wan_transfermode == "vdsl")
		{
			form.transfermode.value = dsl_wan_transfermode;
			//form.transfermode.disabled = true;
			form.dsl_multiplex.disabled = true;
			form.dsl_vpi.disabled = true;
			form.dsl_vci.disabled = true;
			form.vlanidActive.disabled = false;
			form.vlan_id.disabled = false;
				
			form.dslmode.options.length = 1;
			form.dslmode.options[0].text = "$dsl_vdsl2";
			form.dslmode.options[0].value = "0"; 
			if(dsl_wan_dslmode == "")
				dsl_wan_dslmode = "0";
			form.dslmode.value= dsl_wan_dslmode;
			document.getElementById("ipoa1").style.display="none";
			document.getElementById("ipoa2").style.display="none";
			document.getElementById("ipoa3").style.display="none";
			document.getElementById("ipoa4").style.display="none";
		}	
		else if(dsl_wan_transfermode == "adsl")
		{ //ATM
			form.transfermode.value = dsl_wan_transfermode;
			form.dsl_multiplex.disabled = false;
			form.dsl_vpi.disabled = false;
			form.dsl_vci.disabled = false;
			form.vlanidActive.disabled = false;
			form.vlan_id.disabled = false;
			
			form.dslmode.options.length = 4;
			form.dslmode.options[0].text = "$dsl_auto";
			form.dslmode.options[1].text = "$dsl_adsl1";
			form.dslmode.options[2].text = "$dsl_adsl2";
			form.dslmode.options[3].text = "$dsl_adsl22";
			form.dslmode.options[0].value = "0";
			form.dslmode.options[1].value = "1";
			form.dslmode.options[2].value = "2";
			form.dslmode.options[3].value = "3";
			if(dsl_wan_dslmode == "")
				dsl_wan_dslmode = "0";
			form.dslmode.value= dsl_wan_dslmode;
			document.getElementById("ipoa1").style.display="";
			document.getElementById("ipoa2").style.display="";
			document.getElementById("ipoa3").style.display="";
			document.getElementById("ipoa4").style.display="";
			
			document.getElementById("bridge_mode_tr").style.display="none";
			document.getElementById("bridge_content").style.display="none";
			document.getElementById("bridge").style.display="none";
		}
	}else if(dsl_wan_preference == "2")//eth
	{
			document.getElementById("ipoa1").style.display="none";
			document.getElementById("ipoa2").style.display="none";
			document.getElementById("ipoa3").style.display="none";
			document.getElementById("ipoa4").style.display="none";
			
			document.getElementById("bridge_mode_tr").style.display="none";
			document.getElementById("bridge_content").style.display="none";
			document.getElementById("bridge").style.display="none";
	}
	
	if((lan_selecte & 2) == 2)
		form.bridge_lan2.checked = true;
	if((lan_selecte & 4) == 4)
		form.bridge_lan3.checked = true;
	if((lan_selecte & 8) == 8)
		form.bridge_lan4.checked = true;
	if(form.bridge_lan2.checked == false && form.bridge_lan3.checked== false && form.bridge_lan4.checked== false)
		form.bridge_lan4.checked = true;
	set_ip_dns_mac();
	setIP(form);
	form.adslChoice.value = wan_pvc_num;
	if(wan_pvc_num == "1") //wan2 only dhcp connect 
	{
		form.loginreq[0].disabled = true;
		form.loginreq[1].disabled = true;
	}
	form.dsl_multiplex.value = dsl_wan_multiplex;
	//alert(dsl_wan_multiplex);
	if(dsl_wan_enable_vlanidActive == 1){
		form.vlanidActive.checked =true;
		form.vlan_id.disabled = false;
	}
	else{	
		form.vlanidActive.checked =false;
		form.vlan_id.disabled = true;
	}
	form.dsl_vpi.value = dsl_wan_vpi;
	form.dsl_vci.value = dsl_wan_vci;
	if(dsl_wan_vlan_id == "-1")
		form.vlan_id.value = "";
	else
		form.vlan_id.value = dsl_wan_vlan_id;
	form.priority_value.value = priority;
	var ether_get_ip=old_wan_ip;
	if (ether_get_ip!="")
	{
		var ip_array=ether_get_ip.split('.');
		form.WPethr1.value=ip_array[0];
		form.WPethr2.value=ip_array[1];
		form.WPethr3.value=ip_array[2];
		form.WPethr4.value=ip_array[3];
	}
	if (ether_get_subnet!="")
	{
		var mask_array=ether_get_subnet.split('.');
		form.WMask1.value=mask_array[0];
		form.WMask2.value=mask_array[1];	
		form.WMask3.value=mask_array[2];
		form.WMask4.value=mask_array[3]; 
	}
	if (ether_get_gateway!="")
	{
		var gtw_array=ether_get_gateway.split('.');
		form.WGateway1.value=gtw_array[0];
		form.WGateway2.value=gtw_array[1];
		form.WGateway3.value=gtw_array[2];
		form.WGateway4.value=gtw_array[3];	
	}
	if(ipoa_ip !="")
	{
		var ipoa_ip_array=ipoa_ip.split('.');
		form.WAPethr1.value=ipoa_ip_array[0];
		form.WAPethr2.value=ipoa_ip_array[1];
		form.WAPethr3.value=ipoa_ip_array[2];
		form.WAPethr4.value=ipoa_ip_array[3];
	}else
	{
		form.WAPethr1.value=0;
		form.WAPethr2.value=0;
		form.WAPethr3.value=0;
		form.WAPethr4.value=0;
	}
	if(ipoa_subnet_mask !="")
	{
		var ipoa_subnet_array=ipoa_subnet_mask.split('.');
		form.WAMask1.value=ipoa_subnet_array[0];
		form.WAMask2.value=ipoa_subnet_array[1];
		form.WAMask3.value=ipoa_subnet_array[2];
		form.WAMask4.value=ipoa_subnet_array[3];
	}else
	{
		form.WAMask1.value=0;
		form.WAMask2.value=0;
		form.WAMask3.value=0;
		form.WAMask4.value=0;
	}
	if(ipoa_gateway !="")
	{
		var ipoa_gateway_array=ipoa_gateway.split('.');
		form.WAGateway1.value=ipoa_gateway_array[0];
		form.WAGateway2.value=ipoa_gateway_array[1];
		form.WAGateway3.value=ipoa_gateway_array[2];
		form.WAGateway4.value=ipoa_gateway_array[3];
	}else
	{
		form.WAGateway1.value=0;
		form.WAGateway2.value=0;
		form.WAGateway3.value=0;
		form.WAGateway4.value=0;
	}
	setDNS(form);
	var ether_get_dns1="<% bas_ether_dns() %>";
	if (ether_get_dns1!="" && ether_get_dns1.indexOf(":")==-1)
	{
		var dns1_array=ether_get_dns1.split('.');
		form.DAddr1.value=dns1_array[0];
		form.DAddr2.value=dns1_array[1];
		form.DAddr3.value=dns1_array[2];
		form.DAddr4.value=dns1_array[3];
	}
	var ether_get_dns2="<% bas_ether_dns("1") %>";
	if (ether_get_dns2!="" && ether_get_dns2.indexOf(":")==-1)
	{
		var dns2_array=ether_get_dns2.split('.');
		form.PDAddr1.value=dns2_array[0];
		form.PDAddr2.value=dns2_array[1];
		form.PDAddr3.value=dns2_array[2];
		form.PDAddr4.value=dns2_array[3];
	}
	if( dns_third_flag == 1)
	{
	        var ether_get_dns3="<% bas_ether_dns("2") %>";
	        if (ether_get_dns3!="" && ether_get_dns3.indexOf(":")==-1)
	        {
	                var dns3_array=ether_get_dns3.split('.');
	                form.TDAddr1.value=dns3_array[0];
	                form.TDAddr2.value=dns3_array[1];
	                form.TDAddr3.value=dns3_array[2];
	                form.TDAddr4.value=dns3_array[3];
	        }
	}
	form.option60.value = dsl_wan_dhcp_option1;
	form.option61.value = dsl_wan_dhcp_option2;
	if(dsl_wan_enablewan == "1")
		form.enable_wan.checked =true;
	else if(dsl_wan_enablewan == "0")
		form.enable_wan.checked =false;
	if(csflag == "1")  //linshi 
	{
		change_value();
	}
	else if(csflag == "0")  // dai biao apply return 
	{
		change_true_value();
	}
	if(dsl_wan_preference == "2") //eth
	{	
		document.getElementById("only_eth").style.display="none";
		document.getElementById("only_eth3").style.display="none";
		document.getElementById("dhcpp").style.display="none";
		form.adslChoice.value = "0";
		form.adslChoice.disabled = true;
	}
	goTestApply();
}
function Select_pvc_num(F)
{
	cf=document.forms[0];
	var www = csflag;
	if(www == "1") //linshi
	{
		cf.hid_lin_shi.value = "1";
		cf.submit_flag.value="Change_pvc_num";  //改了这里出现提交BAS_update
		if(true_country == curr_country && true_isp == curr_isp )
		{	
			cf.hid_lin_configed.value = "1";
			if(wan1_flag == "1" && cf.adslChoice.value == "0"){ //wan1 and wan2 all configed
				   cf.action="/apply.cgi?/BAS_basic_dsl.htm timestamp=" + ts;
				 
			}
			else if(wan2_flag == "1" && cf.adslChoice.value == "1"){
				cf.action="/apply.cgi?/BAS_basic_dsl.htm timestamp=" + ts;
				
			}
			else{
				cf.action="/apply.cgi?/BAS_ether_dsl.htm timestamp=" + ts;
			}
		}
		else{
			cf.hid_lin_configed.value = "0";
			cf.action="/apply.cgi?/BAS_ether_dsl.htm timestamp=" + ts;
		}
		
	}
	else if(www == "0")  //apply
	{
		cf.hid_lin_shi.value = "0";
		cf.submit_flag.value="Change_pvc_num";
		if(cf.adslChoice.value == "0") //wan1
		    cf.action="/apply.cgi?/BAS_basic_dsl.htm timestamp=" + ts;
		else if(cf.adslChoice.value == "1") //wan1
			cf.action="/apply.cgi?/BAS_ether_dsl.htm timestamp=" + ts;
	}
	cf.submit();
}

function ChangeLoginChoice()
{
	cf=document.forms[0];
	if(csflag == "1") //linshi
		cf.hid_lin_shi.value = "1";
	else if(csflag == "0")  //apply
		cf.hid_lin_shi.value = "0";
	cf.submit_flag.value="lin_pppoe";
	if(dsl_wan_preference == "2") //eth
	{
		if(((jp_multiPPPoE == 1 && gui_region != "Japanese" ) || ( select_type > 0 && gui_region == "Japanese") ) && (netgear_region == "" || netgear_region.toUpperCase() == "WW" || netgear_region.toUpperCase() == "JP" ))
			cf.action="/apply.cgi?/BAS_mulpppoe.htm timestamp=" + ts;
		else if( select_type == 0 )
			cf.action="/apply.cgi?/BAS_pppoe_dsl.htm timestamp=" + ts;
		else if(select_type == 1 )
			cf.action="/apply.cgi?/BAS_pptp.htm timestamp=" + ts;
		else if( select_type == 4 && have_l2tp == 1 )
			cf.action="/apply.cgi?/BAS_l2tp.htm timestamp=" + ts;
		else
			cf.action="/apply.cgi?/BAS_pppoe_dsl.htm timestamp=" + ts;
	}else if(dsl_wan_preference == "1" && dsl_wan_transfermode=="vdsl") //vdsl
		cf.action="/apply.cgi?/BAS_pppoe_dsl.htm timestamp=" + ts;
	else if(dsl_wan_preference == "1" && dsl_wan_transfermode=="adsl") //adsl
	{
		if( select_type == 5 )
			cf.action="/apply.cgi?/BAS_pppoa_dsl.htm timestamp=" + ts;
		else
			cf.action="/apply.cgi?/BAS_pppoe_dsl.htm timestamp=" + ts;
	}
	cf.submit();
}

function change_true_value()
{
	var cf=document.forms[0];
	if(cf.transfermode.value == "adsl")
	{
		if((cf.country.value == "France" && cf.isp.value == "SFR") || (cf.country.value == "Australia" && cf.isp.value == "TPG")  || (cf.country.value == "UK" && cf.isp.value == "BT"))
		{
			if(wan_pvc_num == "0" && wan1_flag == "1") // say wan1 haeve configed should use config value
				cf.vlan_id.value = dsl_wan_vlan_id;
			else if(wan_pvc_num == "1" && wan2_flag == "1") //say wan2 haeve configed should use config value
				cf.vlan_id.value = dsl_wan_vlan_id;
			else if(wan_pvc_num == "0" && wan2_flag == "1")
				cf.vlan_id.value = "";
			else if(wan_pvc_num == "1" && wan1_flag == "1")
				cf.vlan_id.value = "";
			 cf.hid_wan_num.value = "2";
		}else if (cf.country.value == "Germany" && cf.isp.value == "Deutsche Telekom")
		{
			if(wan_pvc_num == "0" && wan1_flag == "1") // say wan1 haeve configed should use config value
				cf.vlan_id.value = dsl_wan_vlan_id;
			else if(wan_pvc_num == "1" && wan2_flag == "1") //say wan2 haeve configed should use config value
				cf.vlan_id.value = dsl_wan_vlan_id;
			else if(wan_pvc_num == "0" && wan2_flag == "1")
				cf.vlan_id.value = "7";
			else if(wan_pvc_num == "1" && wan1_flag == "1")
				cf.vlan_id.value = "8";
			 cf.hid_wan_num.value = "2";
		}
		else
		{
			cf.adslChoice.value = "0";
			cf.adslChoice.disabled = true;
			
		}
		if(c=adsl_list[cf.country.value])
			if(s=c[cf.isp.value]){ //isp exist vpi,vci must exit
				if((cf.country.value == "France" && cf.isp.value == "SFR") || (cf.country.value == "Australia" && cf.isp.value == "TPG") || (cf.country.value == "UK" && cf.isp.value == "BT") || (cf.country.value == "Germany" && cf.isp.value == "Deutsche Telekom"))
				{
					if(true_country == curr_country && true_isp == curr_isp )
					{
						if(wan_pvc_num == "0" && wan1_flag == "1") // say wan1 haeve configed should use config value
						{
							cf.dsl_vpi.value = dsl_wan_vpi;
							cf.dsl_vci.value = dsl_wan_vci;
							cf.dsl_multiplex.value = dsl_wan_multiplex;
						}else if(wan_pvc_num == "1" && wan2_flag == "1")
						{
							cf.dsl_vpi.value = dsl_wan_vpi;
							cf.dsl_vci.value = dsl_wan_vci;
							cf.dsl_multiplex.value = dsl_wan_multiplex;
						}
						else
						{
							if((cf.country.value == "Australia" && cf.isp.value == "TPG") || (cf.country.value == "UK" && cf.isp.value == "BT")|| (cf.country.value == "Germany" && cf.isp.value == "Deutsche Telekom"))
							{
							   if(wan_pvc_num == "0"){ //wan1
									cf.dsl_vpi.value = s["vpi"];
									cf.dsl_vci.value = s["vci"];
									cf.dsl_multiplex.value = s["multi"]; 
								}
								else
								{
									cf.dsl_vpi.value = s["vpi2"];
									cf.dsl_vci.value = s["vci2"];
									cf.dsl_multiplex.value = s["multi2"]; 
								}
							}else
							{
								cf.dsl_vpi.value = s["vpi"];
								cf.dsl_vci.value = s["vci"];
								cf.dsl_multiplex.value = s["multi"]; 
							}
						}
							
					}else{
						if((cf.country.value == "Australia" && cf.isp.value == "TPG") || (cf.country.value == "UK" && cf.isp.value == "BT")|| (cf.country.value == "Germany" && cf.isp.value == "Deutsche Telekom"))
						{
							if(wan_pvc_num == "0"){ //wan1
								cf.dsl_vpi.value = s["vpi"];
								cf.dsl_vci.value = s["vci"];
								cf.dsl_multiplex.value = s["multi"]; 
							}
							else
							{
								cf.dsl_vpi.value = s["vpi2"];
								cf.dsl_vci.value = s["vci2"];
								cf.dsl_multiplex.value = s["multi2"]; 
							}
						}else
						{
							cf.dsl_vpi.value = s["vpi"];
								cf.dsl_vci.value = s["vci"];
								cf.dsl_multiplex.value = s["multi"]; 
						}
					}
					
				}
				if(true_country != curr_country || true_isp != curr_isp){
					cf.dsl_vpi.value = s["vpi"];
					cf.dsl_vci.value = s["vci"];
					cf.dsl_multiplex.value = s["multi"]; 
				}
			}
	}
	else if(cf.transfermode.value == "vdsl"){
		if(c=vdsl_list[cf.country.value]){
			if(s=c[cf.isp.value]){
				if(num = s["num"]){
					if(num == "2"){  //have vlanid1 and vlanid2
						   if(wan2_flag == "1" || wan1_flag == "1"){  //wan1 and wan2 only one configed 
								if(wan_pvc_num == "0" && wan2_flag == "1" && wan1_flag == "0"){// if wan1 but wan2 haeve configed dynamic value
									 cf.vlan_id.value = s["vlanid1"];
								}
								else if(wan_pvc_num == "1" && wan1_flag == "1" && wan2_flag == "0") //say wan2 haeve configed should use config value
								{
									cf.vlan_id.value = s["vlanid2"];
								}
							}
						cf.hid_wan_num.value = "2";
						if(wan_pvc_num == "1")
						{
							document.getElementById("bridge_mode_tr").style.display="";
							if(bridge_mode_select == "1")
								cf.bridge_mode.checked = true;
						}
						lan_select();
					}else
					{
						cf.adslChoice.value = "0";
						cf.adslChoice.disabled = true;					
					}
				}
				else{
						cf.adslChoice.value = "0";
						cf.adslChoice.disabled = true;	
				}
			}
			else{
						cf.adslChoice.value = "0";
						cf.adslChoice.disabled = true;						
			}
		}else{
						cf.adslChoice.value = "0";
						cf.adslChoice.disabled = true;						
			}
	}
}

function change_value()
{
	var cf=document.forms[0];
	if(dsl_wan_preference == "2"){ //eth
		if(c=vdsl_list[cf.country.value]){
			if(s=c[cf.isp.value]){
				if(num = s["num"]){
					if(num == "2"){  //have vlanid1 and vlanid2
						   if(true_country == curr_country && true_isp == curr_isp ){
								if(wan_pvc_num == "0" && wan1_flag == "1") // say wan1 haeve configed should use config value
									cf.vlan_id.value = dsl_wan_vlan_id;
								else
									cf.vlan_id.value = "";
							}else
							{
								cf.vlan_id.value = "";
							}
						
						cf.hid_wan_num.value = "2";
					}
					else if(num == "1"){  //only one valnid1
						cf.adslChoice.value = "0";
						cf.adslChoice.disabled = true;
						cf.hid_adslChoice.value = "0";
						if(true_country == curr_country && true_isp == curr_isp )
							cf.vlan_id.value = dsl_wan_vlan_id;
						else	
							cf.vlan_id.value = s["vlanid1"];
					}
					//cf.dsl_vpi.value = vpi;
				}
			}else  //isp unexit
			{
				cf.adslChoice.value = "0";
				cf.adslChoice.disabled = true;
				cf.hid_adslChoice.value = "0"
			}
		}else{  // country no exit
			cf.adslChoice.value = "0";
			cf.adslChoice.disabled = true;
			cf.hid_adslChoice.value = "0";
		}
				
	}
   else if(cf.transfermode.value == "adsl" && dsl_wan_preference == "1"){
		if(c=adsl_list[cf.country.value])
			if(s=c[cf.isp.value]){ //isp exist vpi,vci must exit
				if((cf.country.value == "France" && cf.isp.value == "SFR") || (cf.country.value == "Australia" && cf.isp.value == "TPG") || (cf.country.value == "UK" && cf.isp.value == "BT") || (cf.country.value == "Germany" && cf.isp.value == "Deutsche Telekom"))
				{
					if(true_country == curr_country && true_isp == curr_isp )
					{
						if(wan_pvc_num == "0" && wan1_flag == "1") // say wan1 haeve configed should use config value
						{
							cf.dsl_vpi.value = dsl_wan_vpi;
							cf.dsl_vci.value = dsl_wan_vci;
							cf.dsl_multiplex.value = dsl_wan_multiplex;
						}else if(wan_pvc_num == "1" && wan2_flag == "1")
						{
							cf.dsl_vpi.value = dsl_wan_vpi;
							cf.dsl_vci.value = dsl_wan_vci;
							cf.dsl_multiplex.value = dsl_wan_multiplex;
						}
						else
						{
							if((cf.country.value == "Australia" && cf.isp.value == "TPG") || (cf.country.value == "UK" && cf.isp.value == "BT")|| (cf.country.value == "Germany" && cf.isp.value == "Deutsche Telekom"))
							{
							   if(wan_pvc_num == "0"){ //wan1
									cf.dsl_vpi.value = s["vpi"];
									cf.dsl_vci.value = s["vci"];
									cf.dsl_multiplex.value = s["multi"]; 
								}
								else
								{
									cf.dsl_vpi.value = s["vpi2"];
									cf.dsl_vci.value = s["vci2"];
									cf.dsl_multiplex.value = s["multi2"]; 
								}
							}else
							{
								cf.dsl_vpi.value = s["vpi"];
								cf.dsl_vci.value = s["vci"];
								cf.dsl_multiplex.value = s["multi"]; 
							}
					
						
						//	cf.dsl_vpi.value = s["vpi"];
						//	cf.dsl_vci.value = s["vci"];
						///	cf.dsl_multiplex.value = s["multi"]; 
						}
							
					}else{
						if((cf.country.value == "Australia" && cf.isp.value == "TPG")||(cf.country.value == "UK" && cf.isp.value == "BT") || (cf.country.value == "Germany" && cf.isp.value == "Deutsche Telekom"))
						{
						    if(wan_pvc_num == "0"){ //wan1
								cf.dsl_vpi.value = s["vpi"];
								cf.dsl_vci.value = s["vci"];
								cf.dsl_multiplex.value = s["multi"]; 
							}
							else
							{
								cf.dsl_vpi.value = s["vpi2"];
								cf.dsl_vci.value = s["vci2"];
								cf.dsl_multiplex.value = s["multi2"]; 
							}
						}else
						{
							cf.dsl_vpi.value = s["vpi"];
							cf.dsl_vci.value = s["vci"];
							cf.dsl_multiplex.value = s["multi"]; 
						}
					
					
					
					
					//	cf.dsl_vpi.value = s["vpi"];
						//cf.dsl_vci.value = s["vci"];
						//cf.dsl_multiplex.value = s["multi"]; 
					}
					
				}
				else if(true_country != curr_country || true_isp != curr_isp){
					cf.dsl_vpi.value = s["vpi"];
					cf.dsl_vci.value = s["vci"];
					cf.dsl_multiplex.value = s["multi"]; 
				}else
				{
					cf.dsl_vpi.value = s["vpi"];
					cf.dsl_vci.value = s["vci"];
					cf.dsl_multiplex.value = s["multi"];
				}
			}
		if((cf.country.value == "France" && cf.isp.value == "SFR") || (cf.country.value == "Australia" && cf.isp.value == "TPG") || (cf.country.value == "UK" && cf.isp.value == "BT"))
		{
			if(true_country == curr_country && true_isp == curr_isp ){
				if(wan_pvc_num == "0" && wan1_flag == "1") // say wan1 haeve configed should use config value
				{
					cf.vlan_id.value = dsl_wan_vlan_id;
				}
				else if(wan_pvc_num == "1" && wan2_flag == "1") //say wan2 haeve configed should use config value
					cf.vlan_id.value = dsl_wan_vlan_id;
				else if(wan_pvc_num == "0")
				{
					cf.vlan_id.value = "";
				}
				else if(wan_pvc_num == "1")
					 cf.vlan_id.value = "";
			}
			else
				cf.vlan_id.value = "";
			cf.hid_wan_num.value = "2";
		}else if(cf.country.value == "Germany" && cf.isp.value == "Deutsche Telekom")
		{
			if(true_country == curr_country && true_isp == curr_isp ){
				if(wan_pvc_num == "0" && wan1_flag == "1") // say wan1 haeve configed should use config value
				{
					cf.vlan_id.value = dsl_wan_vlan_id;
				}
				else if(wan_pvc_num == "1" && wan2_flag == "1") //say wan2 haeve configed should use config value
					cf.vlan_id.value = dsl_wan_vlan_id;
				else if(wan_pvc_num == "0")
					cf.vlan_id.value = "7";
				else if(wan_pvc_num == "1")
					cf.vlan_id.value = "8";
			}
			else{
				if(wan_pvc_num == "0")
					cf.vlan_id.value = "7";
				else if(wan_pvc_num == "1")
					 cf.vlan_id.value = "8";
			}
			cf.hid_wan_num.value = "2";
		}
		else{
			cf.adslChoice.value = "0";
			cf.adslChoice.disabled = true;
			cf.hid_wan_num.value = "1";
		}
	}
	else if(cf.transfermode.value == "vdsl" && dsl_wan_preference == "1"){ //vdsl
		if(c=vdsl_list[cf.country.value]){
			if(s=c[cf.isp.value]){
				if(num = s["num"]){
					if(num == "2"){  //have vlanid1 and vlanid2
					   if(fermode == "vdsl" || fermode == ""){ //mei you shezhi de enable interface defalut is ubchecked
						   if(true_country == curr_country && true_isp == curr_isp ){
								if(wan_pvc_num == "0" && wan1_flag == "1") // say wan1 haeve configed should use config value
									cf.vlan_id.value = dsl_wan_vlan_id;
								else if(wan_pvc_num == "1" && wan2_flag == "1") //say wan2 haeve configed should use config value
									cf.vlan_id.value = dsl_wan_vlan_id;
								else if(wan_pvc_num == "0")
									cf.vlan_id.value = s["vlanid1"];
								else if(wan_pvc_num == "1")
									cf.vlan_id.value = s["vlanid2"];
							}else
							{
								if(wan_pvc_num == "0")
									cf.vlan_id.value = s["vlanid1"];
								else if(wan_pvc_num == "1")
									cf.vlan_id.value = s["vlanid2"];
							}
						}else if(fermode == "adsl")
						{
							if(wan_pvc_num == "0")
								cf.vlan_id.value = s["vlanid1"];
							else
								cf.vlan_id.value = s["vlanid2"];
						}
						cf.hid_wan_num.value = "2";
						if(wan_pvc_num == "1")
						{
							document.getElementById("bridge_mode_tr").style.display="";
							if(bridge_mode_select == "1")
								cf.bridge_mode.checked = true;
							lan_select();
						}
					}
					else if(num == "1"){  //only one valnid1
						cf.adslChoice.value = "0";
						cf.adslChoice.disabled = true;
						cf.hid_adslChoice.value = "0";
						if(true_country == curr_country && true_isp == curr_isp )
							cf.vlan_id.value = dsl_wan_vlan_id;
						else	
							cf.vlan_id.value = s["vlanid1"];
					}
					//cf.dsl_vpi.value = vpi;
				}
			}else  //isp unexit
			{
				cf.adslChoice.value = "0";
				cf.adslChoice.disabled = true;
				cf.hid_adslChoice.value = "0"
			}
		}else{  // country no exit
			cf.adslChoice.value = "0";
			cf.adslChoice.disabled = true;
			cf.hid_adslChoice.value = "0";
		}
				
	}
}

function sub_cisp(q)
{
	var cf=document.forms[0];
	cf.hid_dsl_country.value = cf.country.value;
	cf.hid_dsl_isp.value = cf.isp.value;
	
   if(dsl_wan_preference == "2")
		cf.hid_wan_number.value = "1";
   else if(cf.transfermode.value == "adsl" && dsl_wan_preference == "1"){
		if((cf.country.value == "France" && cf.isp.value == "SFR") || (cf.country.value == "Australia" && cf.isp.value == "TPG")  || (cf.country.value == "UK" && cf.isp.value == "BT")|| (cf.country.value == "Germany" && cf.isp.value == "Deutsche Telekom"))
		{
			cf.hid_wan_number.value = "2";
		}else
			cf.hid_wan_number.value = "1";
		
	}
	else if(cf.transfermode.value == "vdsl"  && dsl_wan_preference == "1"){ 
		if(c=vdsl_list[cf.country.value]){
			if(s=c[cf.isp.value]){
				if(num = s["num"]){
					if(num == "2"){  //have vlanid1 and vlanid2
						cf.hid_wan_number.value = "2";
					}
					else if(num == "1"){  //only one valnid1
					cf.hid_wan_number.value = "1";
					}
					//cf.dsl_vpi.value = vpi;
				}
			}else  //isp unexit
			{
				cf.hid_wan_number.value = "1";
			}
		}else{  // country no exit
			cf.hid_wan_number.value = "1";
		}
				
	}
	cf.hid_transfermode.value = cf.transfermode.value;
	cf.hid_dslmode.value = cf.dslmode.value;
	cf.submit_flag.value="csonly";
	if(q == "1" || q == "2"){
		if(true_country == cf.country.value && true_isp == cf.isp.value ){
			cf.hid_lin_configed.value = "1";
			var numqq = "<% cfg_get("true_pvc_num") %>";
			if (numqq == "0")
				cf.action="/apply.cgi?/BAS_basic_dsl.htm timestamp=" + ts;
			else{
				if(wan_pvc_num == "0" && wan1_flag == "1"){ // say wan1 haeve configed should use config value
					cf.action="/apply.cgi?/BAS_basic_dsl.htm timestamp=" + ts;
				}else if(wan_pvc_num == "1" && wan2_flag == "1"){ // say wan1 haeve configed should use config value
					cf.action="/apply.cgi?/BAS_basic_dsl.htm timestamp=" + ts;
				}else 
					cf.action="/apply.cgi?/BAS_ether_dsl.htm timestamp=" + ts;
			}
		}else{
			cf.hid_lin_configed.value = "0";
			cf.action="/apply.cgi?/BAS_ether_dsl.htm timestamp=" + ts;
		}
	}else{
		cf.hid_lin_configed.value = "0";
		cf.action="/apply.cgi?/BAS_ether_dsl.htm timestamp=" + ts;
	}
	cf.submit();
}
function checkvid()
{
	var cf = document.forms[0];
	if(!cf.vlanidActive.checked)
		cf.vlan_id.disabled = true;
	else
		cf.vlan_id.disabled = false;
}

function lan_select()
{
	var cf = document.forms[0];
	if(cf.bridge_mode.checked == true)
	{	
       	     if(lan_ports_num != 1){
		document.getElementById("bridge_content").style.display="";
		document.getElementById("bridge").style.display="";
	     }
		document.getElementById("dhcpp").style.display="none"; 
		document.getElementById("ip_mask").style.display="none";
		
	}else
	{
		document.getElementById("bridge_content").style.display="none";
		document.getElementById("bridge").style.display="none";
		document.getElementById("dhcpp").style.display=""; 
		document.getElementById("ip_mask").style.display="";
	}
}
</script>

<input type="hidden" name="conflict_wanlan">
<input type="hidden" name="change_wan_type">
<input type="hidden" name="run_test" value="">
<input type="hidden" name="ether_ipaddr">
<input type="hidden" name="ether_subnet">
<input type="hidden" name="ether_gateway">
<input type="hidden" name="ipoa_ipaddr">
<input type="hidden" name="ipoa_subnet">
<input type="hidden" name="ipoa_gateway">
<input type="hidden" name="ether_dnsaddr1">
<input type="hidden" name="ether_dnsaddr2">
<input type="hidden" name="ether_dnsaddr3">
<input type="hidden" name="hid_mtu_value">
<input type="hidden" name="hid_vpn_detect_flag">
<input type="hidden" name="hid_enable_vpn" value="1">
<input type="hidden" name="hid_dsl_country">
<input type="hidden" name="hid_dsl_isp">
<input type="hidden" name="hid_transfermode">
<input type="hidden" name="hid_dslmode">
<input type="hidden" name="hid_adslChoice">
<input type="hidden" name="hid_enable_wan">
<input type="hidden" name="hid_enable_vlanidActive">
<input type="hidden" name="hid_dhcp_option1">
<input type="hidden" name="hid_dhcp_option2">
<input type="hidden" name="hid_dsl_vpi">
<input type="hidden" name="hid_dsl_vci">
<input type="hidden" name="hid_dsl_multiplex">
<input type="hidden" name="hid_vlan_id">
<input type="hidden" name="hid_port_mode">
<input type="hidden" name="hid_lin_shi">
<input type="hidden" name="hid_wan1_config">
<input type="hidden" name="hid_wan2_config">
<input type="hidden" name="hid_wan_num" value="1">
<input type="hidden" name="hid_wan_number">
<input type="hidden" name="hid_priority_value">
<input type="hidden" name="hid_lin_configed">
<input type="hidden" name="hid_bridge_mode" value="0">
<input type="hidden" name="hid_lan_num">
<input type="hidden" name="hid_double_vpi" value="0">
<div class="fix_button">
<TABLE width=100% border=0 cellpadding=0 cellspacing=2>
<script>
var master="<% cfg_get("http_loginname") %>";

if( master =="admin" ){
document.write('<TR><TD nowrap colspan=2 align=center><input class="common_bt" type="submit" name="Test" value="$test_mark" onClick="return check_ether(document.forms[0],1)">&nbsp;&nbsp;');
document.write('<input class="cancel_bt" type="button" name="Cancel" value="$cancel_mark" onClick="location.href=\'BAS_ether_dsl.htm\';">&nbsp;&nbsp;');
document.write('<input class="apply_bt" type="submit" name="Apply" value="$apply_mark" onClick="return check_ether(document.forms[0],0)"></TD></TR>');
}
else
document.write('<TR><TD nowrap colspan=2 align=center><input class="common1_bt" type="button" name="Test" value="$test_mark" disabled>&nbsp;&nbsp;<input class="cancel1_bt" type="button" name="Cancel" value="$cancel_mark" disabled>&nbsp;&nbsp;<input class="apply1_bt" type="button" name="Apply" value="$apply_mark" disabled></TD></TR>');
</script>
</TABLE>
</div><!--button-->
<div id="main" class="main_bas_dsl">
<!--<div id="bas_top">-->
<TABLE cellspacing=5 cellPadding=0 width=100% border=0>
<tr><td nowrap width="50%"><b>$dsl_select_country</b></td>
<td width="50%" align="right"><select name="country" size="1" onchange="setisp();change_value(); sub_cisp(1);">
<option  value="Australia">$dsl_austalia</option>
<option  value="Austria">$dsl_austria</option>
<option  value="Belgium">$dsl_begium</option>
<option  value="Brazil">$dsl_brazil</option>
<option  value="Canada">$dsl_canada</option>
<option  value="China">$dsl_china</option>
<option  value="Czech Republic">$dsl_czech</option>
<option  value="Denmark">$dsl_demark</option>
<option  value="Finland">$dsl_finland</option>
<option  value="France">$dsl_france</option>
<option  value="Germany">$dsl_germany</option>
<option  value="HongKong">$dsl_hongkong</option>
<option  value="Hungary">$dsl_hungary</option>
<option  value="India">$dsl_india</option>
<option  value="Indonesia">$dsl_indonesia</option>
<option  value="Ireland">Ireland</option>
<option  value="Italy">$dsl_italy</option>
<option  value="Malaysia">$dsl_malaysia</option>
<option  value="Netherlands">$dsl_netherlands</option>
<option  value="New Zealand">$dsl_new_zealand</option>
<option  value="Philippine">$dsl_philip</option>
<option  value="Poland">$dsl_poland</option>
<option  value="Portugal">$dsl_portugal</option>
<option  value="Russia">$dsl_russia</option>
<option  value="Saudi Arabia">$dsl_saudi_arabia</option>
<option  value="Singapore">$dsl_singpore</option>
<option  value="Spain">$dsl_spain</option>
<option  value="Sweden">$dsl_sweden</option>
<option  value="Switzerland">$dsl_switzer</option>
<option  value="Thailand">$dsl_thailand</option>
<option  value="Turkey">$dsl_turkey</option>
<option  value="UK">$dsl_uk</option>
<option  value="USA">$dsl_usa</option>
<option  value="Vietnam">$dsl_vietnam</option>
<option  value="Other">$dsl_other</option>
</select>  
</td>
</tr>

<tr><td nowrap width="50%"><b>$dsl_select_isp</b></td>
<td width="50%" align="right"><select name="isp" size=1 onchange="change_value(); sub_cisp(2);">
<option selected  value="Adam">Adam</option>
<option value="Clubtelco">Clubtelco</option>
<option value="Dodo">Dodo</option>
<option value="Exetel">Exetel</option>
<option value="Other">$dsl_other</option>
</select></td>
</tr>
$bluebar
</table>
<TABLE id="only_eth" cellspacing=5 cellPadding=0 width=100% border=0>
<tr> 
 <td nowrap width="50%">$dsl_transmode</TD>
 <td width="50%" align="right"><select name="transfermode" onChange="ChangeModeChoice();sub_cisp(3);" size="1">
   <option value="adsl" selected>$dsl_adsl</option>
   <option value="vdsl">$dsl_vdsl</option>
 </select></TD>
</TR>

<tr>
 <td nowrap width="50%">$dsl_mode</TD>
 <td width="50%" align="right">
 <SELECT name="dslmode" size="1" onChange="sub_cisp(4);">
	 <option value="0" selected>$dsl_auto</option>
	 <option value="1">$dsl_adsl1</option>
	 <option value="2">$dsl_adsl2</option>
	 <option value="3">$dsl_adsl22</option>
	 <option value="4">$dsl_vdsl2</option>
 </SELECT></TD>
</TR>
$bluebar
</table>
<TABLE id="only_eth2" cellspacing=5 cellPadding=0 width=100% border=0>
<tr id="wan_style">
  <td nowrap width="50%"><select id="adslchange" name="adslChoice" size="1" onChange="Select_pvc_num(document.forms[0])">
    <option value="0">$dsl_internet</option>
    <option value="1">$dsl_iptv</option>    
    </script>
  </select></td>
  <td nowrap width="50%" align="right">&nbsp;</td>
</tr>
<tr id="enablewan_style"><td>&nbsp;<input type="checkbox" name="enable_wan" value="enable_wan"><b>$dsl_enable_interface</b></td></tr>
$bluebar
</table>
<TABLE id="only_eth3" cellspacing=5 cellPadding=0 width=100% border=0>
<tr>
 <td nowrap width="50%" >$dsl_multi_method</TD>
 <td width="50%" align="right"><select name="dsl_multiplex" size="1">
   <option value="llc" selected>$dsl_llc_based</option>
   <option value="vc">$dsl_vc_based</option>
 </select></TD>
</TR>
<TR>
  <td nowrap width="50%">$dsl_vpi</td>
  <td nowrap width="50%" align="right" ><input type="text" name="dsl_vpi" class="num" value="" size="3" maxlength="3"></td>
</tr>
<TR>
  <td nowrap width="50%">$dsl_vci</td>
  <td nowrap width="50%" align="right"><input type="text" name="dsl_vci" class="num" value="" size="5" maxlength="5"></td>
</tr>
$bluebar
</table>
<TABLE cellspacing=5 cellPadding=0 width=100% border=0>
<TR>
  <td nowrap width="50%">
	<input type="checkbox" name="vlanidActive" value="vlanidEnable" onclick="checkvid();">$dsl_usevid</td>
  <td nowrap width="50%" align="right"><input type="text" class="num" name="vlan_id" size="5" maxlength="5" onKeyPress="return getkey('num', event)"></td>
</tr>
<TR>
  <td nowrap width="50%">$dsl_priority</td>
  <td nowrap width="50%" align="right"><input type="text" class="num" name="priority_value" size="3" maxlength="5" onKeyPress="return getkey('num-', event)"></td>
</tr>
<TR id="bridge_mode_tr" style="display:none">
  <td nowrap>
	<input type="checkbox" name="bridge_mode" value="bridge" onclick="lan_select();">$dsl_bridge
  </td>
</TR>
<tr id="bridge_content" style="display:none">
	<TD><font color="blue">$dsl_bridge_content</font></TD>
</tr>
</TABLE>
<TABLE id="bridge" cellspacing=5 cellPadding=0 width=100% border=0 style="display:none">

<TR>
  <td width="5%"></td>
  <td align="left"><input type="checkbox" name="bridge_lan4" value="bridge4">$dsl_iptv_lan4 </td>
</TR>
<TR>
  <td width="5%"></td>
  <td align="left"><input type="checkbox" name="bridge_lan3" value="bridge3">$dsl_iptv_lan3 </td>
</TR>
<TR>
  <td width="5%"></td>
  <td align="left"><input type="checkbox" name="bridge_lan2" value="bridge2">$dsl_iptv_lan2 </td>
</TR>
</TABLE>
<TABLE id="ip_mask" cellspacing=5 cellPadding=0 width=100% border=0>
$bluebar
<TR><TD nowrap>
<A tabindex=-1 href="javascript:loadhelp('_BAS_ether','question')"><B>$basic_top_info</B></A>
</TD></TR>
<TR>
        <TD nowrap>
        <input onClick="ChangeLoginChoice()" type="radio" name="loginreq" value="pppoe">$yes_mark
        </TD>
</TR>
<TR>
        <TD nowrap>
        <input onclick='' type="radio" name="loginreq" value="dhcp" checked="true">$no_mark
        </TD>
</TR>
$bluebar
<TR>
	<TD nowrap><A tabindex=-1 href="javascript:loadhelp('_BAS_ether','acname')">$basic_int_acname</A></TD>
	<TD nowrap align=right>
	<input type="text" name="system_name" size="20" maxlength="60" value="<% cfg_sed_xss("wan_hostname"); %>" onKeyPress="return getkey('apname',event)">
	
	<!--bug 22330:XSS Protection,the character should be converted that same to spec 2.0  -->
	</TD>
</TR>
<TR>
	<TD nowrap><A tabindex=-1 href="javascript:loadhelp('_BAS_ether','doname')">$basic_int_doname</A></TD>
	<TD nowrap align=right>
	<input type="text" name="domain_name" size="20" maxlength="60" value="<% cfg_sed_xss("wan_domain"); %>" onKeyPress="return getkey('ddns_hostname',event)">
	</TD>
</TR>
$bluebar
<TR>
	<TD nowrap colspan=2>
	<A tabindex=-1 href="javascript:loadhelp('_BAS_ether','InternetIP')"><B>$basic_int_intip</B></A>
	</TD>
</TR>
<TR>
	<TD nowrap colspan=2>
	<input type="radio" name="WANAssign" value="dhcp" onClick="setIP(document.forms[0])">$basic_int_autoip
	</TD>
</TR>
<TR>
	<TD nowrap colspan=2>
	<input type="radio" name="WANAssign" value="static" onClick="setIP(document.forms[0])">$basic_int_static_ip
	</TD>
</TR>
<TR>
	<TD nowrap><img src=/spacer.gif width=20 height=12 border=0>$lan_mark_ip</TD>
	<TD nowrap align=right>
	<input type="text" name="WPethr1"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);" >.
	<input type="text" name="WPethr2"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
	<input type="text" name="WPethr3"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
	<input type="text" name="WPethr4"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">
	</TD>
</TR>
<TR>
	<TD nowrap><img src=/spacer.gif width=20 height=12 border=0>$lan_mark_subnet</TD>
	<TD nowrap align=right>
	<input type="text" name="WMask1"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);" >.
	<input type="text" name="WMask2"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
	<input type="text" name="WMask3"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
	<input type="text" name="WMask4"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">
	</TD> 
</TR>
<TR>
	<TD nowrap><img src=/spacer.gif width=20 height=12 border=0>$lan_mark_gateway</TD>
	<TD nowrap align=right>
	<input type="text" name="WGateway1"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);" >.
	<input type="text" name="WGateway2"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
	<input type="text" name="WGateway3"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
	<input type="text" name="WGateway4"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">
	</TD>
</TR>
<!--ipoa -->
<tr id="ipoa1">
	<td colspan="2" nowrap>
	    <input type="radio" name="WANAssign" value="ipoa" onClick="setIP(document.forms[0])">Use IP Over ATM (IPoA)</td>
</tr>
<tr id="ipoa2">
	<td nowrap><img src="spacer.gif" width="20" height="12" border="0">$lan_mark_ip</td>
	<td nowrap align="right">
	    <input type="text" name="WAPethr1" size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
	    <input type="text" name="WAPethr2" size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
	    <input type="text" name="WAPethr3" size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
	    <input type="text" name="WAPethr4" size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);"></td>
</tr>
<tr id="ipoa3">
	<td nowrap><img src="spacer.gif" width="20" height="12" border="0">$lan_mark_subnet</td>
	<td align="right">
	    <input type="text" name="WAMask1" size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
	    <input type="text" name="WAMask2" size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
	    <input type="text" name="WAMask3" size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
	    <input type="text" name="WAMask4" size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);"></td>
</tr>
<tr id="ipoa4">
	<td nowrap><img src="spacer.gif" width="20" height="12" border="0">$lan_mark_gateway</td>
	<td align="right">
	    <input type="text" name="WAGateway1" size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
	    <input type="text" name="WAGateway2" size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
	    <input type="text" name="WAGateway3" size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
	    <input type="text" name="WAGateway4" size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);"></td>
</tr>
$bluebar
<TR>
	<TD nowrap colspan=2>
	<A tabindex=-1 href="javascript:loadhelp('_BAS_ether','DNSaddress')"><B>$basic_int_dns</B></A>
	</TD>
</TR>
<TR>
	<TD nowrap colspan=2>
	<input type="radio" name="DNSAssign" value="0" onClick="setDNS(document.forms[0])">$basic_int_autodns
	</TD>
</TR>
<TR>
	<TD nowrap colspan=2>
	<input type="radio" name="DNSAssign" value="1" onClick="setDNS(document.forms[0])">$basic_int_these
	</TD>
</TR>
<TR>
	<TD nowrap><img src=/spacer.gif width=20 height=12 border=0>$basic_int_primary_dns</TD>
	<TD nowrap align=right>
	<input type="text" name="DAddr1"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);" >.
	<input type="text" name="DAddr2"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
	<input type="text" name="DAddr3"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
	<input type="text" name="DAddr4"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">
	</TD>
</TR>
<TR>
	<TD nowrap><img src=/spacer.gif width=20 height=12 border=0>$basic_int_second_dns</TD>
	<TD nowrap align=right>
	<input type="text" name="PDAddr1"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);" >.
	<input type="text" name="PDAddr2"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
	<input type="text" name="PDAddr3"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
	<input type="text" name="PDAddr4"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">	
	</TD>
</TR>
<TR id=third_dns style="display:none">
        <TD nowrap><img src=/spacer.gif width=20 height=12 border=0>$basic_int_third_dns</TD>
        <TD nowrap align=right>
        <input type="text" name="TDAddr1"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);" >.
        <input type="text" name="TDAddr2"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
        <input type="text" name="TDAddr3"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">.
        <input type="text" name="TDAddr4"  size="3" autocomplete="off" maxlength="3" onFocus="this.select();" onkeydown="keydown(event,this);" onKeyPress="return getkey('num',event);" onkeyup="keyup(event,this);">
        </TD>
</TR>
$bluebar
<TR>
	<TD nowrap colspan=2>
	<A tabindex=-1 href="javascript:loadhelp('_BAS_ether','localaddress')"><B>$basic_int_mac</B></A>
	</TD>
</TR>
<TR>
	<TD nowrap colspan=2>
	<input type="radio" name="MACAssign" value="0" onClick="setMAC(document.forms[0], wan_factory_mac)">$basic_int_default_mac
	</TD>
</TR>
<TR>
	<TD nowrap colspan=2>
	<input type="radio" name="MACAssign" value="1" onClick="setMAC(document.forms[0], wan_remote_mac)">$basic_int_computer_mac
	</TD>
</TR>
<TR>
	<TD nowrap>
	<input type="radio" name="MACAssign" value="2" onClick="setMAC(document.forms[0], ether_get_this_mac)">$basic_int_this_mac
	</TD>
	<TD nowrap align=right>
	<input type="text" value="" name="Spoofmac" maxlength="17" size="20" onKeyPress="return getkey('mac',event)">
	</TD>
</TR>

$bluebar
</table>
<TABLE id="dhcpp" cellspacing=5 cellPadding=0 width=100% border=0>
<tr>
	<td nowrap colspan="2"><tabindex="-1"><b>$dsl_dhcp_option</b></a></td>
</tr>
<tr>
	<td nowrap>$dsl_dhcp_60</td>
    <td align="right"><input type="text" name="option60" maxlength="64" size="64"></td>
	</td>
</tr>
<tr>
	<td nowrap>$dsl_dhcp_61</td>
	<td align="right"><input type="text" name="option61" maxlength="64" size="64"></td>
	</td>
</tr>

$bluebar
</TABLE>
</div> <!-- main -->
<% help_box("0","_BAS_ether") %>
</FORM>
</BODY>
</HTML>
